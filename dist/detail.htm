

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="viewport" content="initial-scale=1.0, user-scalable=no, target-densitydpi=device-dpi" />
<title>无标题文档</title>
<script src="./script/vue.min.js"></script>
<script src="./script/echarts.min.js"></script>

<script language="javascript">
window.parent.document.body.scrollTop=0;

</script>

</head>

<body background="c_bg.jpg" style="padding:20px;">


<center>
<div id="pvsbody">
<table width="60%">
	<tr bgcolor="#0C1744">
		<td align="center" style="color:#FFFFFF; padding:5px; font-size:14px;; padding:5px; font-size:14px;" bgcolor="#182760"><a style="text-decoration:none;color:#FFFFFF;" href="detail.htm">基本信息</a></td>
		<!--<td align="center" style="color:#FFFFFF; padding:5px; font-size:14px;"><a style="text-decoration:none;color:#FFFFFF;" href="detail_2.htm">电路拓扑</a></td>-->
		<td align="center" style="color:#FFFFFF; padding:5px; font-size:14px;"><a style="text-decoration:none;color:#FFFFFF;" href="detail_3.htm">设备详情</a></td>
		<td align="center" style="color:#FFFFFF; padding:5px; font-size:14px;"><a style="text-decoration:none;color:#FFFFFF;" href="detail_4.htm">效能分析</a></td>
		<td align="center" style="color:#FFFFFF; padding:5px; font-size:14px;"><a style="text-decoration:none;color:#FFFFFF;" href="detail_5.htm">运维建议</a></td>
	</tr>
</table>	
	
<br>
	
<table width="100%">
	<tr>
		<td width="33%" style="font-size:14px; color:#CCCCCC; padding:10px;">
			<table width="100%">
				<tr><td>装机容量：{{ BasicInfo.ZhurangjiRongliang }}MW</td><td colspan="2">当前功率：{{ BasicInfo.Gonglv }}MW</td></tr>
				<tr><td>温度：{{ BasicInfo.Wendu }}°C</td><td>湿度：{{ BasicInfo.Shidu }}%</td><td>风速：{{ BasicInfo.Fengsu }}m/s</td></tr>
				<tr><td>GHI：{{ BasicInfo.GHI }}</td><td>DHI：{{ BasicInfo.DHI }}</td><td>POA：{{ BasicInfo.POA }}</td></tr>
			</table>
			<br>
			<a href="JavaScript:showMessage('test')" style="text-decoration:none; color:#3399CC">标杆组串1</a><br>
			<a href="JavaScript:showMessage('test')" style="text-decoration:none; color:#3399CC">标杆组串2</a><br>
			<a href="JavaScript:showMessage('test')" style="text-decoration:none; color:#3399CC">标杆组串3</a><br>
			<a href="JavaScript:showMessage('test')" style="text-decoration:none; color:#3399CC">标杆组串4</a><br>	
		</td>
		<td width="33%">
			<div style="overflow: hidden; z-index:600; background-color:rgba(50,50,50,0.3); border-radius:5px 5px 5px 5px; width: 96%;">
				<table width="100%" border="0" cellpadding="0" cellspacing="0">
				
					<tr bgcolor="#0C1744">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						功率趋势图
					</td>
					</tr>
					
					<tr bgcolor="#182760">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						<div id="gonglvChart" style="width:400px;height:200px"/>
					</td>
					</tr>
				</table>
			</div>		
		</td>
		<td width="33%">
			<div style="overflow: hidden; z-index:600; background-color:rgba(50,50,50,0.3); border-radius:5px 5px 5px 5px; width: 96%;">
				<table width="100%" border="0" cellpadding="0" cellspacing="0">
				
					<tr bgcolor="#0C1744">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						电价
					</td>
					</tr>
					
					<tr bgcolor="#182760">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						<div id="dianjiaChart" style="width:400px;height:200px"/>
					</td>
					</tr>
					
				</table>
			</div>			
		</td>
	</tr>
	<tr><td colspan="2" height="10"></td></tr>
	<tr>	
		<td width="33%">
			<div style="overflow: hidden; z-index:600; background-color:rgba(50,50,50,0.3); border-radius:5px 5px 5px 5px; width: 96%;">
				<table width="100%" border="0" cellpadding="0" cellspacing="0">
				
					<tr bgcolor="#0C1744">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						月发电量
					</td>
					</tr>
					
					<tr bgcolor="#182760">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						<div id="yuefadianliangChart" style="width:400px;height:200px"/>
					</td>
					</tr>
					
				</table>
			</div>			
		</td>
		<td width="33%">
			<div style="overflow: hidden; z-index:600; background-color:rgba(50,50,50,0.3); border-radius:5px 5px 5px 5px; width: 96%;">
				<table width="100%" border="0" cellpadding="0" cellspacing="0">
				
					<tr bgcolor="#0C1744">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						收益
					</td>
					</tr>
					
					<tr bgcolor="#182760">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						<div id="shouyiChart" style="width:400px;height:200px"/>
					</td>
					</tr>
					
				</table>
			</div>			
		</td>
		<td width="33%">
			<div style="overflow: hidden; z-index:600; background-color:rgba(50,50,50,0.3); border-radius:5px 5px 5px 5px; width: 96%;">
				<table width="100%" border="0" cellpadding="0" cellspacing="0">
				
					<tr bgcolor="#0C1744">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						效率值PR
					</td>
					</tr>
					
					<tr bgcolor="#182760">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;">
						<div id="prChart" style="width:400px;height:200px"/>
					</td>
					</tr>
					
				</table>
			</div>			
		</td>
	</tr>
</table>	

<!--弹出层开始-->
<div id="divAlert" style="border:1px solid #000000;position:absolute;display:none;background-color:;height:auto;width:600px;z-index:1000; border-radius:5px 5px 5px 5px; "> 		

			<div style="overflow: hidden; z-index:600; background-color:rgba(50,50,50,0.3); width: 100%;">
				<table width="100%" border="0" cellpadding="0" cellspacing="0">
				
					<tr bgcolor="#0C1744">
					<td align="left" style="color:#ccc; font-size:14px; padding:20px;" colspan="2">
						
						<table width="100%">
						<tr>
							<td height="30" align="left">标杆组串XXX</td>
							<td>
								
								<table width="100%"><tr><td align="left">健康度：XXX</td><td align="left">灰尘清洁度：XXX</td><td align="left">正常衰减率：XXX</td></tr></table>
							
							</td>
							<td align="right"><a href="JavaScript:closeMessage();" style="text-decoration:none; color:#999;"><img src="close_div.png" border="0" height="26"></a></td>
						</tr>
						</table>
					
					</td>
					</tr>
		
					<tr bgcolor="#182760">
						<td width="50%" align="center" style="color:#ccc; font-size:14px; padding:20px;">
							视频（RGB）<br>
							<br>
							<img src="v_demo.jpg" height="100">
						</td>
						<td width="50%" align="center" style="color:#ccc; font-size:14px; padding:20px;">
							视频（红外）<br>
							<br>
							<img src="v_demo.jpg" height="100">
						</td>
					</tr>		
					
					<tr bgcolor="#182760">
					<td align="center" style="color:#ccc; font-size:14px; padding:20px;" colspan="2">
						标杆组串的发电数学模型曲线<br>
						<br>
						<img src="demo.jpg" height="160">
					</td>
					</tr>
					
					
				</table>
			</div>	

</div>
</div>
<script type="text/javascript">
	var vm = new Vue({
		el: '#pvsbody',
		data: {
			BasicInfo: {
				ZhurangjiRongliang: "",
				Gonglv: "",
				Wendu: "",
				Shidu: "",
				Fengsu: "",
				GHI: "",
				DHI: "",
				POA: ""
			}
		},
		methods: {
			//getZhurangjiRongliang: function(){ return "20MW"; },
			getGonglv: function(){ return "16MW"; },
			getWendu: function(){ return "20°C"; },
			getShidu: function(){ return "30%"; },
			getFengsu: function(){ return "5m/s"; },
			getGHI: function(){ return "23"; },
			getGDI: function(){ return "42"; },
			getPOA: function(){ return "62"; }
		}
	});
	
	var lineChartOption = {
		xAxis: {
			type: 'category',
			axisLine: {
				lineStyle: {
					color: '#FFFFFF'
				}
			},
			axisLabel: {
				fontSize: 8
			}
		},
		yAxis: {
			type: 'value',
			axisLine: {
				lineStyle: {
					color: '#FFFFFF'
				}
			},
			nameGap: 2
		},
		series: [{
			type: 'line',
			smooth: true
		}],
		textStyle: {color: '#FFFFFF'},
		animation: false
	};

	// 功率趋势图
	var gonglvChartOption = {
		xAxis: {
			name:'时刻'
		},
		yAxis: {
			name:'功率（MW）',
		},
		series: [{
			smooth: true
		}]
	};
	var gonglvChart = echarts.init(document.getElementById('gonglvChart'));
	gonglvChart.setOption(lineChartOption);
	gonglvChart.setOption(gonglvChartOption);

	// 电价图表
	var dianjiaChartOption = {
		xAxis: {
			name:'时刻'
		},
		yAxis: {
			name:'元/kwh',
			max:1
		},
		series: [{
			smooth: false
		}]
	};	
	var dianjiaChart = echarts.init(document.getElementById('dianjiaChart'));
	dianjiaChart.setOption(lineChartOption);
	dianjiaChart.setOption(dianjiaChartOption);

	//月发电量图表
	var yuefadianliangChartOption = {
		xAxis: {
			name:'月份'
		},
		yAxis: {
			name:'MWh',
			min:7000,			
			axisLabel: {
				fontSize: 8
			}
		},
		series: [{
			smooth: true
		}]
	};	
	var yuefadianliangChart = echarts.init(document.getElementById('yuefadianliangChart'));
	yuefadianliangChart.setOption(lineChartOption);
	yuefadianliangChart.setOption(yuefadianliangChartOption);

	//收益图表
	var shouyiChartOption = {
		xAxis: {
			name:'月份'
		},
		yAxis: {
			name:'万元',
			min:400
		},
		series: [{
			smooth: true
		}]
	};	
	var shouyiChart = echarts.init(document.getElementById('shouyiChart'));
	shouyiChart.setOption(lineChartOption);
	shouyiChart.setOption(shouyiChartOption);

	//效率值PR
	var prChartOption = {
		xAxis: {
			name:'月份'
		},
		yAxis: {
			name:'%',
			min:70
		},
		series: [{
			smooth: true
		}]
	};	
	var prChart = echarts.init(document.getElementById('prChart'));
	prChart.setOption(lineChartOption);
	prChart.setOption(prChartOption);


	var gonglvChartData = {
		xAxis: {
			data: ['9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '0', '1', '2', '3', '4', '5', '6', '7', '8']
		},
		series: [{
			data: [60, 70, 85, 100, 100, 93, 88,72,55,33,12,0,0,0,0,0,0,0,0,0,8,18,32,46]
		}]
	};
	var dianjiaChartData = {
		xAxis: {
			data: ['9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '0', '1', '2', '3', '4', '5', '6', '7', '8']
		},
		series: [{
			data: [0.4, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4]
		}]
	};
	var yuefadianliangChartData = {
		xAxis: {
			data: ['1', '2', '3', '4', '5', '6', '7', '8','9', '10', '11', '12']
		},
		series: [{
			data: [8245, 8756, 9145, 11638, 12875, 13932, 14539,13967,12865,11032,9762,8804]
		}]
	};
	var shouyiChartData = {
		xAxis: {
			data: ['1', '2', '3', '4', '5', '6', '7', '8','9', '10', '11', '12']
		},
		series: [{
			data: [494.7,525.36,548.7,698.28,772.5,835.92,872.34,838.02,771.9,661.92,585.72,528.24]
		}]
	};
	var prChartData = {
		xAxis: {
			data: ['1', '2', '3', '4', '5', '6', '7', '8','9', '10', '11', '12']
		},
		series: [{
			data: [78.3,79.8,77.1,75.7,76.2,73.5,72.8,73.9,74.1,73.9,75.7,77.8]
		}]
	};
	setData();

	function setData() {
		setBasicInfo();
		setChartData();
	}
	function setChartData() {
		gonglvChart.setOption(gonglvChartData);
		dianjiaChart.setOption(dianjiaChartData);
		yuefadianliangChart.setOption(yuefadianliangChartData);
		shouyiChart.setOption(shouyiChartData);
		prChart.setOption(prChartData);
	}

	function setBasicInfo() {
		vm.BasicInfo.ZhurangjiRongliang = 20;
		vm.BasicInfo.Gonglv = 16 + Math.round(Math.random() * 10) / 10;
		vm.BasicInfo.Wendu = 20;
		vm.BasicInfo.Shidu = 30;
		vm.BasicInfo.Fengsu = 5;
		vm.BasicInfo.GHI = 23;
		vm.BasicInfo.DHI = 52;
		vm.BasicInfo.POA = 45;
	}

	var t = window.setInterval(function() {
		setData();
	},1000);

/*
 * 弹出DIV层
*/
function showMessage(msg)
{
        //alert(comid);
		
		var divObj = document.getElementById("divAlert"); 
		
		//alert(divObj.style.left);
		
		// 仅适用于IE,clientWidth,clientHeight,分别指宽度和高度,以px计  
        // scrollLeft.返回第一个匹配元素的水平滚动条位置  
		
		var screenWidth = document.body.clientWidth;   
        //var screenHeight = window.screen.availHeight;   
		
		//alert(screenHeight);
          
        // 返回元素的宽度和高度,以px计  
        var divWidth = 600;   
        //var divHeight = divObj.offsetHeight;   
		
		//alert(divWidth);
		
        // 这里是让div的位置位于当前屏幕的中间位置,这里的当前屏幕指的是不带滚动条的  
          var left = parseInt((screenWidth - divWidth)/2);   
        //var top = parseInt((screenHeight - divHeight)/2);   
        
		// 带上滚动条的位置进行计算  
        divObj.style.left = (left+document.body.scrollLeft) + "px";   
        
		// scrollTop 滚动条的垂直位置  
		var scrolltop=scrolltop=document.body.scrollTop;
		
		if(scrolltop==0){
			scrolltop=window.pageYOffset;
		}
		
		if(scrolltop==0){
			scrolltop=document.documentElement.scrollTop;
		}
		
		
        divObj.style.top = (20 + scrolltop) + "px";  

		
		divObj.style.display="block";
	 

	 
		//以下部分使整个页面至灰不可点击
		var procbg = document.createElement("div"); //首先创建一个div
		procbg.setAttribute("id","mybgcom"); //定义该div的id
		procbg.style.background = "#000000";
		procbg.style.width = "100%";
		procbg.style.height = "100%";
		procbg.style.position = "fixed";
		procbg.style.top = "0";
		procbg.style.left = "0";
		procbg.style.zIndex = "500";
		procbg.style.opacity = "0.8";
		procbg.style.filter = "Alpha(opacity=80)";
		//背景层加入页面
		document.body.appendChild(procbg);
		//document.body.style.overflow = "hidden"; //取消滚动条 

		document.getElementById('msg_view').innerHTML=msg;
}


function closeMessage() //关闭弹出层
{
	var Idiv=document.getElementById("divAlert");
	Idiv.style.display="none";
	//document.body.style.overflow = "auto"; //恢复页面滚动条
	var body = document.getElementsByTagName("body");
	var mybgcom = document.getElementById("mybgcom");
	body[0].removeChild(mybgcom);
}
</script>



</center>
</body>

</html>

